const __vite__fileDeps=["./vega-embed.module-CLtnQsBL.js","./index-zwPOQhW2.js","./index-SurhQufQ.css","./dsv-DB8NKgIY.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{_ as Te}from"./index-zwPOQhW2.js";import{B as Ve}from"./Block-DaFZxmCe.js";import{B as je}from"./BlockTitle-DNmK82f-.js";import"./IconButtonWrapper.svelte_svelte_type_style_lang-DtmdC81T.js";import{E as Ie}from"./Empty-BNDtRLIn.js";import{L as Be}from"./LineChart-CKh1Fdep.js";import"./Example.svelte_svelte_type_style_lang-Cqm5zhmZ.js";import{S as De}from"./index-CMJ3qeq1.js";import"./svelte/svelte.js";import"./Info-YxSt5RP-.js";import"./MarkdownCode-CL2lO7x1.js";import"./___vite-browser-external_commonjs-proxy-TmT-OeGo.js";import"./__vite-browser-external-D7Ct-6yo.js";import"./prism-python-ChJf9E4g.js";import"./Clear-By3xiIwg.js";import"./IconButton-C1zqq-lG.js";const{SvelteComponent:Ne,append:qe,assign:Me,attr:we,binding_callbacks:Re,check_outros:he,create_component:B,destroy_component:D,detach:O,element:ve,empty:Fe,flush:u,get_spread_object:He,get_spread_update:Ue,group_outros:be,init:Xe,insert:W,mount_component:N,noop:ye,safe_not_equal:Ye,set_data:Pe,space:ie,text:ze,transition_in:k,transition_out:P}=window.__gradio__svelte__internal,{onMount:Ge}=window.__gradio__svelte__internal;function xe(r){let e,l;const i=[{autoscroll:r[3].autoscroll},{i18n:r[3].i18n},r[11]];let n={};for(let s=0;s<i.length;s+=1)n=Me(n,i[s]);return e=new De({props:n}),e.$on("clear_status",r[39]),{c(){B(e.$$.fragment)},m(s,_){N(e,s,_),l=!0},p(s,_){const d=_[0]&2056?Ue(i,[_[0]&8&&{autoscroll:s[3].autoscroll},_[0]&8&&{i18n:s[3].i18n},_[0]&2048&&He(s[11])]):{};e.$set(d)},i(s){l||(k(e.$$.fragment,s),l=!0)},o(s){P(e.$$.fragment,s),l=!1},d(s){D(e,s)}}}function Je(r){let e;return{c(){e=ze(r[4])},m(l,i){W(l,e,i)},p(l,i){i[0]&16&&Pe(e,l[4])},d(l){l&&O(e)}}}function Ke(r){let e,l;return e=new Ie({props:{unpadded_box:!0,$$slots:{default:[Ze]},$$scope:{ctx:r}}}),{c(){B(e.$$.fragment)},m(i,n){N(e,i,n),l=!0},p(i,n){const s={};n[1]&16777216&&(s.$$scope={dirty:n,ctx:i}),e.$set(s)},i(i){l||(k(e.$$.fragment,i),l=!0)},o(i){P(e.$$.fragment,i),l=!1},d(i){D(e,i)}}}function Qe(r){let e,l,i,n=r[2]&&ke(r);return{c(){e=ve("div"),l=ie(),n&&n.c(),i=Fe(),we(e,"class","svelte-10k9m4v")},m(s,_){W(s,e,_),r[40](e),W(s,l,_),n&&n.m(s,_),W(s,i,_)},p(s,_){s[2]?n?n.p(s,_):(n=ke(s),n.c(),n.m(i.parentNode,i)):n&&(n.d(1),n=null)},i:ye,o:ye,d(s){s&&(O(e),O(l),O(i)),r[40](null),n&&n.d(s)}}}function Ze(r){let e,l;return e=new Be({}),{c(){B(e.$$.fragment)},m(i,n){N(e,i,n),l=!0},i(i){l||(k(e.$$.fragment,i),l=!0)},o(i){P(e.$$.fragment,i),l=!1},d(i){D(e,i)}}}function ke(r){let e,l;return{c(){e=ve("p"),l=ze(r[2]),we(e,"class","caption svelte-10k9m4v")},m(i,n){W(i,e,n),qe(e,l)},p(i,n){n[0]&4&&Pe(l,i[2])},d(i){i&&O(e)}}}function pe(r){let e,l,i,n,s,_,d,a=r[11]&&xe(r);l=new je({props:{root:r[1],show_label:r[8],info:void 0,$$slots:{default:[Je]},$$scope:{ctx:r}}});const g=[Qe,Ke],f=[];function c(o,m){return o[0]&&o[14]?0:1}return n=c(r),s=f[n]=g[n](r),{c(){a&&a.c(),e=ie(),B(l.$$.fragment),i=ie(),s.c(),_=Fe()},m(o,m){a&&a.m(o,m),W(o,e,m),N(l,o,m),W(o,i,m),f[n].m(o,m),W(o,_,m),d=!0},p(o,m){o[11]?a?(a.p(o,m),m[0]&2048&&k(a,1)):(a=xe(o),a.c(),k(a,1),a.m(e.parentNode,e)):a&&(be(),P(a,1,1,()=>{a=null}),he());const w={};m[0]&2&&(w.root=o[1]),m[0]&256&&(w.show_label=o[8]),m[0]&16|m[1]&16777216&&(w.$$scope={dirty:m,ctx:o}),l.$set(w);let z=n;n=c(o),n===z?f[n].p(o,m):(be(),P(f[z],1,1,()=>{f[z]=null}),he(),s=f[n],s?s.p(o,m):(s=f[n]=g[n](o),s.c()),k(s,1),s.m(_.parentNode,_))},i(o){d||(k(a),k(l.$$.fragment,o),k(s),d=!0)},o(o){P(a),P(l.$$.fragment,o),P(s),d=!1},d(o){o&&(O(e),O(i),O(_)),a&&a.d(o),D(l,o),f[n].d(o)}}}function $e(r){let e,l;return e=new Ve({props:{visible:r[7],elem_id:r[5],elem_classes:r[6],scale:r[9],min_width:r[10],allow_overflow:!1,padding:!0,height:r[12],$$slots:{default:[pe]},$$scope:{ctx:r}}}),{c(){B(e.$$.fragment)},m(i,n){N(e,i,n),l=!0},p(i,n){const s={};n[0]&128&&(s.visible=i[7]),n[0]&32&&(s.elem_id=i[5]),n[0]&64&&(s.elem_classes=i[6]),n[0]&512&&(s.scale=i[9]),n[0]&1024&&(s.min_width=i[10]),n[0]&4096&&(s.height=i[12]),n[0]&10527|n[1]&16777216&&(s.$$scope={dirty:n,ctx:i}),e.$set(s)},i(i){l||(k(e.$$.fragment,i),l=!0)},o(i){P(e.$$.fragment,i),l=!1},d(i){D(e,i)}}}function et(r,e,l){let i,n,s,_,d,{value:a}=e,{x:g}=e,{y:f}=e,{color:c=null}=e,{root:o}=e,{title:m=null}=e,{x_title:w=null}=e,{y_title:z=null}=e,{color_title:K=null}=e,{x_bin:v=null}=e,{y_aggregate:j=void 0}=e,{color_map:q=null}=e,{x_lim:L=null}=e,{y_lim:M=null}=e,{x_label_angle:R=null}=e,{y_label_angle:H=null}=e,{x_axis_labels_visible:U=!0}=e,{caption:ne=null}=e,{sort:Q=null}=e;function Se(t){if(t==="x")return"ascending";if(t==="-x")return"descending";if(t==="y")return{field:f,order:"ascending"};if(t==="-y")return{field:f,order:"descending"};if(t===null)return;if(Array.isArray(t))return t}let{_selectable:X=!1}=e,Y,{gradio:T}=e,S,Z=!1;const Ce={s:1,m:60,h:60*60,d:24*60*60};let I,V;function Ee(t){let b=t.columns.indexOf(g),E=t.columns.indexOf(f),x=c?t.columns.indexOf(c):null;return t.data.map(F=>{const y={[g]:F[b],[f]:F[E]};return c&&x!==null&&(y[c]=F[x]),y})}const Oe=typeof window<"u";let h,C,p=!1,se,G,$;async function re(){if(C&&C.finalize(),!a||!h)return;se=h.offsetWidth;const t=We();t&&(G=new ResizeObserver(b=>{!b[0].target||!(b[0].target instanceof HTMLElement)||(se===0&&h.offsetWidth!==0&&a.datatypes[g]==="nominal"?re():C.signal("width",b[0].target.offsetWidth).run())}),$||($=(await Te(()=>import("./vega-embed.module-CLtnQsBL.js"),__vite__mapDeps([0,1,2,3]),import.meta.url)).default),$(h,t,{actions:!1}).then(function(b){C=b.view,G.observe(h);var E;C.addEventListener("dblclick",()=>{T.dispatch("double_click")}),h.addEventListener("mousedown",function(x){x.detail>1&&x.preventDefault()},!1),X&&C.addSignalListener("brush",function(x,F){if(Object.keys(F).length===0)return;clearTimeout(E);let y=F[Object.keys(F)[0]];s&&(y=[y[0]/1e3,y[1]/1e3]),Z?J=()=>{T.dispatch("select",{value:y,index:y,selected:!0})}:E=setTimeout(function(){T.dispatch("select",{value:y,index:y,selected:!0})},250)})}))}let J=null;Ge(()=>(l(36,p=!0),h.addEventListener("mousedown",()=>{Z=!0}),h.addEventListener("mouseup",()=>{Z=!1,J&&(J(),J=null)}),()=>{l(36,p=!1),C&&C.finalize(),G&&G.disconnect()}));function We(){if(!a||!d)return null;let t=d.getPropertyValue("--color-accent"),b=d.getPropertyValue("--body-text-color"),E=d.getPropertyValue("--border-color-primary"),x=d.fontFamily,F=d.getPropertyValue("--block-title-text-weight");const y=A=>A.endsWith("px")?parseFloat(A.slice(0,-2)):12;let ge=y(d.getPropertyValue("--text-md")),te=y(d.getPropertyValue("--text-sm"));return{$schema:"https://vega.github.io/schema/vega-lite/v5.17.0.json",background:"transparent",config:{autosize:{type:"fit",contains:"padding"},axis:{labelFont:x,labelColor:b,titleFont:x,titleColor:b,titlePadding:8,tickColor:E,labelFontSize:te,gridColor:E,titleFontWeight:"normal",titleFontSize:te,labelFontWeight:"normal",domain:!1,labelAngle:0},legend:{labelColor:b,labelFont:x,titleColor:b,titleFont:x,titleFontWeight:"normal",titleFontSize:te,labelFontWeight:"normal",offset:2},title:{color:b,font:x,fontSize:ge,fontWeight:F,anchor:"middle"},view:{stroke:E},mark:{stroke:a.mark!=="bar"?t:void 0,fill:a.mark==="bar"?t:void 0,cursor:"crosshair"}},data:{name:"data"},datasets:{data:Y},layer:["plot",...a.mark==="line"?["hover"]:[]].map(A=>({encoding:{size:a.mark==="line"?A=="plot"?{condition:{empty:!1,param:"hoverPlot",value:3},value:2}:{condition:{empty:!1,param:"hover",value:100},value:0}:void 0,opacity:A==="plot"?void 0:{condition:{empty:!1,param:"hover",value:1},value:0},x:{axis:{...R!==null&&{labelAngle:R},labels:U,ticks:U},field:g,title:w||g,type:a.datatypes[g],scale:_?{domain:_}:void 0,bin:S?{step:S}:void 0,sort:n},y:{axis:H?{labelAngle:H}:{},field:f,title:z||f,type:a.datatypes[f],scale:M?{domain:M}:void 0,aggregate:V?I:void 0},color:c?{field:c,legend:{orient:"bottom",title:K},scale:a.datatypes[c]==="nominal"?{domain:i,range:q?i.map(le=>q[le]):void 0}:{range:[100,200,300,400,500,600,700,800,900].map(le=>d.getPropertyValue("--primary-"+le)),interpolate:"hsl"},type:a.datatypes[c]}:void 0,tooltip:[{field:f,type:a.datatypes[f],aggregate:V?I:void 0,title:z||f},{field:g,type:a.datatypes[g],title:w||g,format:s?"%Y-%m-%d %H:%M:%S":void 0,bin:S?{step:S}:void 0},...c?[{field:c,type:a.datatypes[c]}]:[]]},strokeDash:{},mark:{clip:!0,type:A==="hover"?"point":a.mark},name:A})),params:[...a.mark==="line"?[{name:"hoverPlot",select:{clear:"mouseout",fields:c?[c]:[],nearest:!0,on:"mouseover",type:"point"},views:["hover"]},{name:"hover",select:{clear:"mouseout",nearest:!0,on:"mouseover",type:"point"},views:["hover"]}]:[],...X?[{name:"brush",select:{encodings:["x"],mark:{fill:"gray",fillOpacity:.3,stroke:"none"},type:"interval"},views:["plot"]}]:[]],width:h.offsetWidth,title:m||void 0}}let{label:ae="Textbox"}=e,{elem_id:oe=""}=e,{elem_classes:ue=[]}=e,{visible:_e=!0}=e,{show_label:fe}=e,{scale:ce=null}=e,{min_width:me=void 0}=e,{loading_status:ee=void 0}=e,{height:de=void 0}=e;const Ae=()=>T.dispatch("clear_status",ee);function Le(t){Re[t?"unshift":"push"](()=>{h=t,l(13,h)})}return r.$$set=t=>{"value"in t&&l(0,a=t.value),"x"in t&&l(15,g=t.x),"y"in t&&l(16,f=t.y),"color"in t&&l(17,c=t.color),"root"in t&&l(1,o=t.root),"title"in t&&l(18,m=t.title),"x_title"in t&&l(19,w=t.x_title),"y_title"in t&&l(20,z=t.y_title),"color_title"in t&&l(21,K=t.color_title),"x_bin"in t&&l(22,v=t.x_bin),"y_aggregate"in t&&l(23,j=t.y_aggregate),"color_map"in t&&l(24,q=t.color_map),"x_lim"in t&&l(25,L=t.x_lim),"y_lim"in t&&l(26,M=t.y_lim),"x_label_angle"in t&&l(27,R=t.x_label_angle),"y_label_angle"in t&&l(28,H=t.y_label_angle),"x_axis_labels_visible"in t&&l(29,U=t.x_axis_labels_visible),"caption"in t&&l(2,ne=t.caption),"sort"in t&&l(30,Q=t.sort),"_selectable"in t&&l(31,X=t._selectable),"gradio"in t&&l(3,T=t.gradio),"label"in t&&l(4,ae=t.label),"elem_id"in t&&l(5,oe=t.elem_id),"elem_classes"in t&&l(6,ue=t.elem_classes),"visible"in t&&l(7,_e=t.visible),"show_label"in t&&l(8,fe=t.show_label),"scale"in t&&l(9,ce=t.scale),"min_width"in t&&l(10,me=t.min_width),"loading_status"in t&&l(11,ee=t.loading_status),"height"in t&&l(12,de=t.height)},r.$$.update=()=>{r.$$.dirty[0]&1&&l(32,Y=a?Ee(a):[]),r.$$.dirty[0]&131073|r.$$.dirty[1]&2&&(i=c&&a&&a.datatypes[c]==="nominal"?Array.from(new Set(Y.map(t=>t[c]))):[]),r.$$.dirty[0]&1073741824&&(n=Se(Q)),r.$$.dirty[0]&32769&&l(37,s=a&&a.datatypes[g]==="temporal"),r.$$.dirty[0]&33554432|r.$$.dirty[1]&64&&(_=L&&s?[L[0]*1e3,L[1]*1e3]:L),r.$$.dirty[0]&4194304&&l(33,S=v?typeof v=="string"?1e3*parseInt(v.substring(0,v.length-1))*Ce[v[v.length-1]]:v:void 0),r.$$.dirty[0]&8421377|r.$$.dirty[1]&20&&a&&(a.mark==="point"?(l(35,V=S!==void 0),l(34,I=j||V?"sum":void 0)):(l(35,V=S!==void 0||a.datatypes[g]==="nominal"),l(34,I=j||"sum"))),r.$$.dirty[0]&8192&&l(38,d=h?window.getComputedStyle(h):null),r.$$.dirty[0]&1199546373|r.$$.dirty[1]&168&&d&&requestAnimationFrame(re)},[a,o,ne,T,ae,oe,ue,_e,fe,ce,me,ee,de,h,Oe,g,f,c,m,w,z,K,v,j,q,L,M,R,H,U,Q,X,Y,S,I,V,p,s,d,Ae,Le]}class bt extends Ne{constructor(e){super(),Xe(this,e,et,$e,Ye,{value:0,x:15,y:16,color:17,root:1,title:18,x_title:19,y_title:20,color_title:21,x_bin:22,y_aggregate:23,color_map:24,x_lim:25,y_lim:26,x_label_angle:27,y_label_angle:28,x_axis_labels_visible:29,caption:2,sort:30,_selectable:31,gradio:3,label:4,elem_id:5,elem_classes:6,visible:7,show_label:8,scale:9,min_width:10,loading_status:11,height:12},null,[-1,-1])}get value(){return this.$$.ctx[0]}set value(e){this.$$set({value:e}),u()}get x(){return this.$$.ctx[15]}set x(e){this.$$set({x:e}),u()}get y(){return this.$$.ctx[16]}set y(e){this.$$set({y:e}),u()}get color(){return this.$$.ctx[17]}set color(e){this.$$set({color:e}),u()}get root(){return this.$$.ctx[1]}set root(e){this.$$set({root:e}),u()}get title(){return this.$$.ctx[18]}set title(e){this.$$set({title:e}),u()}get x_title(){return this.$$.ctx[19]}set x_title(e){this.$$set({x_title:e}),u()}get y_title(){return this.$$.ctx[20]}set y_title(e){this.$$set({y_title:e}),u()}get color_title(){return this.$$.ctx[21]}set color_title(e){this.$$set({color_title:e}),u()}get x_bin(){return this.$$.ctx[22]}set x_bin(e){this.$$set({x_bin:e}),u()}get y_aggregate(){return this.$$.ctx[23]}set y_aggregate(e){this.$$set({y_aggregate:e}),u()}get color_map(){return this.$$.ctx[24]}set color_map(e){this.$$set({color_map:e}),u()}get x_lim(){return this.$$.ctx[25]}set x_lim(e){this.$$set({x_lim:e}),u()}get y_lim(){return this.$$.ctx[26]}set y_lim(e){this.$$set({y_lim:e}),u()}get x_label_angle(){return this.$$.ctx[27]}set x_label_angle(e){this.$$set({x_label_angle:e}),u()}get y_label_angle(){return this.$$.ctx[28]}set y_label_angle(e){this.$$set({y_label_angle:e}),u()}get x_axis_labels_visible(){return this.$$.ctx[29]}set x_axis_labels_visible(e){this.$$set({x_axis_labels_visible:e}),u()}get caption(){return this.$$.ctx[2]}set caption(e){this.$$set({caption:e}),u()}get sort(){return this.$$.ctx[30]}set sort(e){this.$$set({sort:e}),u()}get _selectable(){return this.$$.ctx[31]}set _selectable(e){this.$$set({_selectable:e}),u()}get gradio(){return this.$$.ctx[3]}set gradio(e){this.$$set({gradio:e}),u()}get label(){return this.$$.ctx[4]}set label(e){this.$$set({label:e}),u()}get elem_id(){return this.$$.ctx[5]}set elem_id(e){this.$$set({elem_id:e}),u()}get elem_classes(){return this.$$.ctx[6]}set elem_classes(e){this.$$set({elem_classes:e}),u()}get visible(){return this.$$.ctx[7]}set visible(e){this.$$set({visible:e}),u()}get show_label(){return this.$$.ctx[8]}set show_label(e){this.$$set({show_label:e}),u()}get scale(){return this.$$.ctx[9]}set scale(e){this.$$set({scale:e}),u()}get min_width(){return this.$$.ctx[10]}set min_width(e){this.$$set({min_width:e}),u()}get loading_status(){return this.$$.ctx[11]}set loading_status(e){this.$$set({loading_status:e}),u()}get height(){return this.$$.ctx[12]}set height(e){this.$$set({height:e}),u()}}export{bt as default};
//# sourceMappingURL=Index-Cv4tzIR3.js.map
